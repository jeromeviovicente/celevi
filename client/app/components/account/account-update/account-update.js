app.controller('account-update', function($scope, $rootScope, $http, $state, user) {

//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
// Initialization
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++	
	console.log('account-update controller is running');

//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
// user update
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
	$scope.update = function () {

		console.log($scope.account);

		user.update($scope.account).then(function (response) {

			$state.go('account');

			$rootScope.account = response.data.user;

			toastr.success(response.data.message);

			console.log(response);

		}).catch(function (response) {

			toastr.error(response.data.message);
			
			console.log(response);
		})
	}

});